<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terminal OS v3.0 - Advanced Console System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== RESET & VARIABLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        :root {
            --bg-primary: #0a0e14;
            --bg-secondary: #0d1117;
            --bg-tertiary: #161b22;
            --bg-accent: #1c2128;
            --text-primary: #c9d1d9;
            --text-secondary: #8b949e;
            --text-accent: #58a6ff;
            --text-success: #3fb950;
            --text-warning: #d29922;
            --text-danger: #f85149;
            --text-muted: #484f58;
            --border-color: #30363d;
            --glow-blue: rgba(56, 139, 253, 0.4);
            --glow-green: rgba(63, 185, 80, 0.4);
            --glow-red: rgba(248, 81, 73, 0.4);
            --shadow-heavy: 0 10px 40px rgba(0, 0, 0, 0.5);
            --shadow-light: 0 5px 20px rgba(0, 0, 0, 0.3);
        }

        body {
            background: linear-gradient(135deg, #0a0e14 0%, #0d1117 50%, #161b22 100%);
            color: var(--text-primary);
            min-height: 100vh;
            overflow: hidden;
            line-height: 1.6;
        }

        /* ===== TERMINAL CONTAINER ===== */
        .terminal-container {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: var(--bg-primary);
            position: relative;
            overflow: hidden;
        }

        /* ===== TERMINAL HEADER ===== */
        .terminal-header {
            background: linear-gradient(90deg, var(--bg-tertiary), var(--bg-accent));
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            box-shadow: var(--shadow-light);
            user-select: none;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .terminal-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(45deg, var(--text-accent), #1f6feb);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
        }

        .terminal-title {
            font-size: 1.1rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .terminal-status {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--text-success);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .status-dot.warning {
            background: var(--text-warning);
        }

        /* ===== TERMINAL BODY ===== */
        .terminal-body {
            flex: 1;
            display: flex;
            overflow: hidden;
            position: relative;
        }

        /* ===== SIDEBAR ===== */
        .terminal-sidebar {
            width: 280px;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            padding: 20px 0;
            overflow-y: auto;
        }

        .sidebar-section {
            margin-bottom: 25px;
            padding: 0 20px;
        }

        .section-title {
            color: var(--text-secondary);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .system-info {
            background: var(--bg-tertiary);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid var(--border-color);
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .info-label {
            color: var(--text-secondary);
        }

        .info-value {
            color: var(--text-primary);
            font-weight: 600;
        }

        .system-processes {
            max-height: 200px;
            overflow-y: auto;
        }

        .process-item {
            background: var(--bg-tertiary);
            padding: 10px 15px;
            margin-bottom: 8px;
            border-radius: 6px;
            border-left: 3px solid var(--text-accent);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .process-item:hover {
            background: var(--bg-accent);
            transform: translateX(5px);
        }

        .process-name {
            color: var(--text-primary);
            margin-bottom: 5px;
        }

        .process-status {
            color: var(--text-success);
            font-size: 0.8rem;
        }

        /* ===== MAIN TERMINAL AREA ===== */
        .terminal-main {
            flex: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            background: var(--bg-primary);
        }

        /* ===== COMMAND HISTORY ===== */
        .terminal-output {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: var(--bg-primary);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .command-line {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 5px;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .prompt {
            color: var(--text-accent);
            font-weight: bold;
            min-width: 200px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .prompt-user {
            color: var(--text-success);
        }

        .prompt-path {
            color: var(--text-accent);
        }

        .prompt-symbol {
            color: var(--text-primary);
        }

        .command-text {
            color: var(--text-primary);
            flex: 1;
            word-break: break-word;
        }

        .command-output {
            margin-left: 210px;
            color: var(--text-secondary);
            padding: 8px 0;
            border-left: 2px solid var(--border-color);
            padding-left: 15px;
            margin-bottom: 15px;
        }

        .output-success {
            border-left-color: var(--text-success);
            color: var(--text-success);
        }

        .output-error {
            border-left-color: var(--text-danger);
            color: var(--text-danger);
        }

        .output-warning {
            border-left-color: var(--text-warning);
            color: var(--text-warning);
        }

        .output-info {
            border-left-color: var(--text-accent);
            color: var(--text-accent);
        }

        .terminal-input-area {
            padding: 15px 20px;
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-prompt {
            color: var(--text-success);
            font-weight: bold;
        }

        #commandInput {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 1rem;
            outline: none;
            caret-color: var(--text-accent);
        }

        #commandInput::placeholder {
            color: var(--text-muted);
        }

        /* ===== TERMINAL WINDOWS ===== */
        .terminal-windows {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }

        .window {
            position: absolute;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: var(--shadow-heavy);
            min-width: 400px;
            min-height: 300px;
            pointer-events: all;
            resize: both;
            overflow: hidden;
            display: none;
        }

        .window.active {
            display: flex;
            flex-direction: column;
            animation: windowAppear 0.3s ease;
        }

        @keyframes windowAppear {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .window-header {
            background: linear-gradient(90deg, var(--bg-tertiary), var(--bg-accent));
            padding: 12px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid var(--border-color);
            cursor: move;
        }

        .window-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .window-controls {
            display: flex;
            gap: 8px;
        }

        .window-btn {
            width: 30px;
            height: 30px;
            border-radius: 4px;
            background: var(--bg-primary);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .window-btn:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .window-btn.close:hover {
            background: var(--text-danger);
            color: white;
            border-color: var(--text-danger);
        }

        .window-content {
            flex: 1;
            padding: 15px;
            overflow: auto;
            background: var(--bg-primary);
        }

        /* ===== FILE EXPLORER ===== */
        .file-explorer {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
        }

        .file-item {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .file-item:hover {
            background: var(--bg-accent);
            transform: translateY(-5px);
            border-color: var(--text-accent);
        }

        .file-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--text-accent);
        }

        .file-name {
            font-size: 0.9rem;
            word-break: break-word;
        }

        /* ===== CODE EDITOR ===== */
        .code-editor {
            background: var(--bg-primary);
            border-radius: 4px;
            overflow: hidden;
        }

        .editor-header {
            background: var(--bg-tertiary);
            padding: 10px 15px;
            display: flex;
            justify-content: space-between;
            border-bottom: 1px solid var(--border-color);
        }

        .editor-tabs {
            display: flex;
            gap: 5px;
        }

        .editor-tab {
            padding: 5px 15px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-bottom: none;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .editor-tab.active {
            background: var(--bg-primary);
            color: var(--text-accent);
            border-color: var(--text-accent);
        }

        #editorContent {
            width: 100%;
            height: 400px;
            background: var(--bg-primary);
            color: var(--text-primary);
            border: none;
            padding: 15px;
            font-family: 'Consolas', monospace;
            font-size: 0.95rem;
            line-height: 1.5;
            resize: none;
            outline: none;
        }

        /* ===== NETWORK MONITOR ===== */
        .network-monitor {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .network-chart {
            height: 150px;
            background: var(--bg-tertiary);
            border-radius: 6px;
            position: relative;
            overflow: hidden;
        }

        .network-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .stat-box {
            background: var(--bg-tertiary);
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            border: 1px solid var(--border-color);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--text-accent);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* ===== SYSTEM MONITOR ===== */
        .system-monitor {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .monitor-charts {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .chart-container {
            background: var(--bg-tertiary);
            padding: 15px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
        }

        .chart-title {
            color: var(--text-secondary);
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .chart-bar {
            height: 20px;
            background: var(--bg-secondary);
            border-radius: 10px;
            overflow: hidden;
            position: relative;
        }

        .chart-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--text-success), var(--text-accent));
            border-radius: 10px;
            transition: width 1s ease;
            position: relative;
        }

        .chart-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, 
                transparent 0%, 
                rgba(255, 255, 255, 0.1) 50%, 
                transparent 100%);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* ===== TERMINAL FOOTER ===== */
        .terminal-footer {
            background: var(--bg-tertiary);
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--border-color);
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .footer-left, .footer-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .key-hint {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .key {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: monospace;
        }

        /* ===== TERMINAL EFFECTS ===== */
        .scanlines {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                to bottom,
                transparent 50%,
                rgba(0, 0, 0, 0.1) 50%
            );
            background-size: 100% 4px;
            pointer-events: none;
            z-index: 999;
            opacity: 0.3;
        }

        .glow-effect {
            position: absolute;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, 
                transparent, 
                var(--glow-blue), 
                transparent);
            bottom: 0;
            animation: glowMove 3s infinite linear;
        }

        @keyframes glowMove {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 1024px) {
            .terminal-sidebar {
                width: 220px;
            }
            
            .prompt {
                min-width: 150px;
            }
            
            .command-output {
                margin-left: 160px;
            }
        }

        @media (max-width: 768px) {
            .terminal-sidebar {
                display: none;
            }
            
            .prompt {
                min-width: 120px;
            }
            
            .command-output {
                margin-left: 130px;
            }
            
            .window {
                min-width: 300px;
                min-height: 250px;
            }
        }

        /* ===== CUSTOM SCROLLBAR ===== */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-secondary);
        }

        /* ===== UTILITY CLASSES ===== */
        .hidden {
            display: none !important;
        }

        .blink {
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        .typewriter {
            overflow: hidden;
            border-right: 2px solid var(--text-accent);
            white-space: nowrap;
            animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: var(--text-accent); }
        }
    </style>
</head>
<body>
    <div class="terminal-container">
        <!-- Scanlines Effect -->
        <div class="scanlines"></div>
        <div class="glow-effect"></div>

        <!-- Terminal Header -->
        <div class="terminal-header">
            <div class="header-left">
                <div class="terminal-icon">
                    <i class="fas fa-terminal"></i>
                </div>
                <div class="terminal-title">
                    <span class="prompt-user">root</span>@<span class="prompt-path">terminal-os</span>:~$
                </div>
            </div>
            <div class="terminal-status">
                <div class="status-item">
                    <div class="status-dot"></div>
                    <span>SYSTEM: ONLINE</span>
                </div>
                <div class="status-item">
                    <div class="status-dot warning"></div>
                    <span>NETWORK: SECURE</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-shield-alt"></i>
                    <span>ENCRYPTION: AES-256</span>
                </div>
            </div>
        </div>

        <!-- Terminal Body -->
        <div class="terminal-body">
            <!-- Sidebar -->
            <div class="terminal-sidebar">
                <div class="sidebar-section">
                    <div class="system-info">
                        <div class="info-row">
                            <span class="info-label">OS Version:</span>
                            <span class="info-value">TerminalOS 3.0</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Kernel:</span>
                            <span class="info-value">5.15.0-78-generic</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Uptime:</span>
                            <span class="info-value" id="uptime">7d 14h 22m</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Shell:</span>
                            <span class="info-value">bash 5.1.16</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">CPU:</span>
                            <span class="info-value">AMD Ryzen 9 5950X</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Memory:</span>
                            <span class="info-value" id="memory">32GB DDR4</span>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <div class="section-title">Active Processes</div>
                    <div class="system-processes">
                        <div class="process-item">
                            <div class="process-name">sshd</div>
                            <div class="process-status">RUNNING (PID: 1245)</div>
                        </div>
                        <div class="process-item">
                            <div class="process-name">nginx</div>
                            <div class="process-status">RUNNING (PID: 892)</div>
                        </div>
                        <div class="process-item">
                            <div class="process-name">docker</div>
                            <div class="process-status">RUNNING (PID: 567)</div>
                        </div>
                        <div class="process-item">
                            <div class="process-name">node</div>
                            <div class="process-status">RUNNING (PID: 2341)</div>
                        </div>
                        <div class="process-item">
                            <div class="process-name">python3</div>
                            <div class="process-status">RUNNING (PID: 1892)</div>
                        </div>
                    </div>
                </div>

                <div class="sidebar-section">
                    <div class="section-title">Quick Commands</div>
                    <div class="system-processes">
                        <div class="process-item" onclick="executeQuickCommand('clear')">
                            <div class="process-name">clear</div>
                            <div class="process-status">Clear terminal</div>
                        </div>
                        <div class="process-item" onclick="executeQuickCommand('sysinfo')">
                            <div class="process-name">sysinfo</div>
                            <div class="process-status">System information</div>
                        </div>
                        <div class="process-item" onclick="executeQuickCommand('neofetch')">
                            <div class="process-name">neofetch</div>
                            <div class="process-status">Display system info</div>
                        </div>
                        <div class="process-item" onclick="executeQuickCommand('help')">
                            <div class="process-name">help</div>
                            <div class="process-status">Show help</div>
                        </div>
                        <div class="process-item" onclick="executeQuickCommand('matrix')">
                            <div class="process-name">matrix</div>
                            <div class="process-status">Enable matrix mode</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Terminal Area -->
            <div class="terminal-main">
                <!-- Command Output Area -->
                <div class="terminal-output" id="terminalOutput">
                    <!-- Initial welcome message -->
                    <div class="command-line">
                        <div class="prompt">
                            <span class="prompt-user">root</span>@<span class="prompt-path">terminal-os</span>:<span class="prompt-symbol">$</span>
                        </div>
                        <div class="command-text typewriter">welcome --init --secure</div>
                    </div>
                    <div class="command-output output-info">
                        ████████╗███████╗██████╗ ███╗   ███╗██╗███╗   ██╗ █████╗ ██╗     <br>
                        ╚══██╔══╝██╔════╝██╔══██╗████╗ ████║██║████╗  ██║██╔══██╗██║     <br>
                           ██║   █████╗  ██████╔╝██╔████╔██║██║██╔██╗ ██║███████║██║     <br>
                           ██║   ██╔══╝  ██╔══██╗██║╚██╔╝██║██║██║╚██╗██║██╔══██║██║     <br>
                           ██║   ███████╗██║  ██║██║ ╚═╝ ██║██║██║ ╚████║██║  ██║███████╗<br>
                           ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝     ╚═╝╚═╝╚═╝  ╚═══╝╚═╝  ╚═╝╚══════╝<br><br>
                        Terminal OS v3.0 - Advanced Console System<br>
                        Type 'help' for available commands<br>
                        Type 'matrix' for special mode<br>
                        --------------------------------------------------<br>
                        System Time: <span id="systemTime"></span><br>
                        IP Address: 192.168.1.105<br>
                        Connection: Secure (TLS 1.3)<br>
                        Last Login: Today 14:22 from 192.168.1.100<br>
                    </div>
                </div>

                <!-- Command Input Area -->
                <div class="terminal-input-area">
                    <div class="input-prompt">
                        <span class="prompt-user">root</span>@<span class="prompt-path">terminal-os</span>:<span class="prompt-symbol">$</span>
                    </div>
                    <input type="text" id="commandInput" placeholder="Type command here... (try 'help')" autocomplete="off" autofocus>
                </div>
            </div>

            <!-- Floating Windows -->
            <div class="terminal-windows">
                <!-- File Explorer Window -->
                <div class="window" id="fileExplorerWindow" style="top: 100px; left: 350px; width: 500px; height: 400px;">
                    <div class="window-header">
                        <div class="window-title">
                            <i class="fas fa-folder"></i>
                            <span>File Explorer - /root</span>
                        </div>
                        <div class="window-controls">
                            <button class="window-btn minimize" onclick="minimizeWindow('fileExplorerWindow')">
                                <i class="fas fa-minus"></i>
                            </button>
                            <button class="window-btn maximize" onclick="maximizeWindow('fileExplorerWindow')">
                                <i class="fas fa-expand"></i>
                            </button>
                            <button class="window-btn close" onclick="closeWindow('fileExplorerWindow')">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <div class="window-content">
                        <div class="file-explorer">
                            <div class="file-item" onclick="openFile('document.txt')">
                                <div class="file-icon">
                                    <i class="fas fa-file-alt"></i>
                                </div>
                                <div class="file-name">notes.txt</div>
                            </div>
                            <div class="file-item" onclick="openFile('script.sh')">
                                <div class="file-icon">
                                    <i class="fas fa-code"></i>
                                </div>
                                <div class="file-name">backup.sh</div>
                            </div>
                            <div class="file-item" onclick="openFile('config.json')">
                                <div class="file-icon">
                                    <i class="fas fa-cog"></i>
                                </div>
                                <div class="file-name">config.json</div>
                            </div>
                            <div class="file-item" onclick="openFile('database.db')">
                                <div class="file-icon">
                                    <i class="fas fa-database"></i>
                                </div>
                                <div class="file-name">data.db</div>
                            </div>
                            <div class="file-item" onclick="openFile('image.png')">
                                <div class="file-icon">
                                    <i class="fas fa-image"></i>
                                </div>
                                <div class="file-name">screenshot.png</div>
                            </div>
                            <div class="file-item" onclick="openFile('archive.zip')">
                                <div class="file-icon">
                                    <i class="fas fa-archive"></i>
                                </div>
                                <div class="file-name">backup.zip</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Code Editor Window -->
                <div class="window" id="codeEditorWindow" style="top: 150px; left: 900px; width: 600px; height: 500px;">
                    <div class="window-header">
                        <div class="window-title">
                            <i class="fas fa-code"></i>
                            <span>Code Editor - script.js</span>
                        </div>
                        <div class="window-controls">
                            <button class="window-btn minimize" onclick="minimizeWindow('codeEditorWindow')">
                                <i class="fas fa-minus"></i>
                            </button>
                            <button class="window-btn maximize" onclick="maximizeWindow('codeEditorWindow')">
                                <i class="fas fa-expand"></i>
                            </button>
                            <button class="window-btn close" onclick="closeWindow('codeEditorWindow')">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <div class="window-content">
                        <div class="code-editor">
                            <div class="editor-header">
                                <div class="editor-tabs">
                                    <div class="editor-tab active">script.js</div>
                                    <div class="editor-tab">style.css</div>
                                    <div class="editor-tab">index.html</div>
                                </div>
                                <div>
                                    <button class="window-btn" onclick="saveFile()">
                                        <i class="fas fa-save"></i>
                                    </button>
                                </div>
                            </div>
                            <textarea id="editorContent" spellcheck="false">
// Terminal OS - Main System Script
const Terminal = {
    version: "3.0",
    author: "System Administrator",
    
    init: function() {
        console.log("Terminal OS Initializing...");
        this.loadModules();
        this.startServices();
    },
    
    loadModules: function() {
        const modules = [
            'FileSystem',
            'NetworkManager',
            'SecurityLayer',
            'ProcessManager'
        ];
        
        modules.forEach(module => {
            console.log(`Loading module: ${module}`);
        });
    },
    
    startServices: function() {
        setInterval(() => {
            this.updateSystemStats();
        }, 1000);
    },
    
    updateSystemStats: function() {
        // Update CPU, Memory, Network stats
        const stats = this.getSystemStats();
        displayStats(stats);
    },
    
    getSystemStats: function() {
        return {
            cpu: Math.random() * 100,
            memory: Math.random() * 100,
            network: Math.random() * 1000
        };
    }
};

// Start the system
Terminal.init();</textarea>
                        </div>
                    </div>
                </div>

                <!-- System Monitor Window -->
                <div class="window" id="systemMonitorWindow" style="top: 200px; left: 200px; width: 450px; height: 350px;">
                    <div class="window-header">
                        <div class="window-title">
                            <i class="fas fa-chart-line"></i>
                            <span>System Monitor</span>
                        </div>
                        <div class="window-controls">
                            <button class="window-btn minimize" onclick="minimizeWindow('systemMonitorWindow')">
                                <i class="fas fa-minus"></i>
                            </button>
                            <button class="window-btn maximize" onclick="maximizeWindow('systemMonitorWindow')">
                                <i class="fas fa-expand"></i>
                            </button>
                            <button class="window-btn close" onclick="closeWindow('systemMonitorWindow')">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                    <div class="window-content">
                        <div class="system-monitor">
                            <div class="monitor-charts">
                                <div class="chart-container">
                                    <div class="chart-title">CPU Usage</div>
                                    <div class="chart-bar">
                                        <div class="chart-fill" id="cpuUsage" style="width: 45%"></div>
                                    </div>
                                    <div class="stat-value" id="cpuPercent">45%</div>
                                </div>
                                <div class="chart-container">
                                    <div class="chart-title">Memory Usage</div>
                                    <div class="chart-bar">
                                        <div class="chart-fill" id="memoryUsage" style="width: 68%"></div>
                                    </div>
                                    <div class="stat-value" id="memoryPercent">68%</div>
                                </div>
                            </div>
                            <div class="network-monitor">
                                <div class="chart-title">Network Activity</div>
                                <div class="network-stats">
                                    <div class="stat-box">
                                        <div class="stat-value" id="networkUp">125</div>
                                        <div class="stat-label">KB/s UP</div>
                                    </div>
                                    <div class="stat-box">
                                        <div class="stat-value" id="networkDown">842</div>
                                        <div class="stat-label">KB/s DOWN</div>
                                    </div>
                                    <div class="stat-box">
                                        <div class="stat-value" id="connections">24</div>
                                        <div class="stat-label">CONNECTIONS</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Terminal Footer -->
        <div class="terminal-footer">
            <div class="footer-left">
                <div class="key-hint">
                    <span class="key">F1</span>
                    <span>Help</span>
                </div>
                <div class="key-hint">
                    <span class="key">F2</span>
                    <span>New Terminal</span>
                </div>
                <div class="key-hint">
                    <span class="key">F3</span>
                    <span>File Explorer</span>
                </div>
                <div class="key-hint">
                    <span class="key">F4</span>
                    <span>System Monitor</span>
                </div>
                <div class="key-hint">
                    <span class="key">F5</span>
                    <span>Refresh</span>
                </div>
            </div>
            <div class="footer-right">
                <span id="currentTime">14:30:45</span>
                <span>|</span>
                <span id="currentDate">2024-03-15</span>
                <span>|</span>
                <span>Connection: <span class="blink">●</span> Secure</span>
            </div>
        </div>
    </div>

    <script>
        // ===== GLOBAL VARIABLES =====
        let commandHistory = [];
        let historyIndex = -1;
        let currentPath = '~';
        let matrixMode = false;
        let isDragging = false;
        let dragElement = null;
        let offsetX, offsetY;

        // ===== SYSTEM COMMANDS DATABASE =====
        const commands = {
            'help': {
                description: 'Display all available commands',
                execute: () => `
Available Commands:
══════════════════════════════════════════════════════════════════════════════
  clear          Clear terminal screen
  ls             List directory contents
  cd [dir]       Change directory
  pwd            Print working directory
  cat [file]     Display file contents
  echo [text]    Display a line of text
  date           Display current date and time
  whoami         Display current user
  neofetch       Display system information
  sysinfo        Detailed system information
  matrix         Enter matrix mode (special effect)
  calc [expr]    Calculator
  ping [host]    Ping a network host
  traceroute [host] Trace route to host
  ifconfig       Network interface configuration
  top            Display system processes
  ps             Display current processes
  kill [pid]     Kill a process
  mkdir [name]   Create directory
  touch [file]   Create empty file
  rm [file]      Remove file
  cp [src] [dst] Copy file
  mv [src] [dst] Move file
  find [name]    Find files
  grep [pattern] Search text using patterns
  ssh [host]     Connect to remote host
  scp [file] [host] Secure copy file
  encrypt [file] Encrypt a file
  decrypt [file] Decrypt a file
  firewall       Configure firewall
  history        Show command history
  reboot         Reboot system
  shutdown       Shutdown system
  help           Display this help message

Type 'help [command]' for more information on a specific command.
                `
            },

            'clear': {
                description: 'Clear the terminal screen',
                execute: () => {
                    document.getElementById('terminalOutput').innerHTML = '';
                    return 'Terminal cleared.';
                }
            },

            'ls': {
                description: 'List directory contents',
                execute: () => `
drwxr-xr-x  6 root root  4096 Mar 15 14:22 .
drwxr-xr-x  3 root root  4096 Mar 10 09:15 ..
-rw-r--r--  1 root root   128 Mar 15 10:30 notes.txt
-rwxr-xr-x  1 root root  1024 Mar 14 22:15 backup.sh
drwxr-xr-x  2 root root  4096 Mar 13 11:45 documents
drwxr-xr-x  4 root root  4096 Mar 12 16:20 projects
-rw-r--r--  1 root root  2048 Mar 11 09:30 config.json
drwxr-xr-x  3 root root  4096 Mar 10 14:55 downloads
-rw-r--r--  1 root root 51200 Mar  9 18:40 data.db
-rw-r--r--  1 root root 10240 Mar  8 12:25 screenshot.png
                `
            },

            'pwd': {
                description: 'Print working directory',
                execute: () => `/home/root/${currentPath}`
            },

            'date': {
                description: 'Display current date and time',
                execute: () => {
                    const now = new Date();
                    return now.toLocaleString('en-US', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit',
                        timeZoneName: 'short'
                    });
                }
            },

            'whoami': {
                description: 'Display current user',
                execute: () => 'root'
            },

            'neofetch': {
                description: 'Display system information',
                execute: () => `
                    ╭──────────────────────────────────────────────────────────────╮
                    │                                                              │
                    │   ████████╗███████╗██████╗ ███╗   ███╗██╗███╗   ██╗ █████╗  │
                    │   ╚══██╔══╝██╔════╝██╔══██╗████╗ ████║██║████╗  ██║██╔══██╗ │
                    │      ██║   █████╗  ██████╔╝██╔████╔██║██║██╔██╗ ██║███████║ │
                    │      ██║   ██╔══╝  ██╔══██╗██║╚██╔╝██║██║██║╚██╗██║██╔══██║ │
                    │      ██║   ███████╗██║  ██║██║ ╚═╝ ██║██║██║ ╚████║██║  ██║ │
                    │      ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝     ╚═╝╚═╝╚═╝  ╚═══╝╚═╝  ╚═╝ │
                    │                                                              │
                    ╰──────────────────────────────────────────────────────────────╯
                    
                    OS: Terminal OS 3.0 x86_64
                    Host: Terminal System
                    Kernel: 5.15.0-78-generic
                    Uptime: 7 days, 14 hours, 22 minutes
                    Shell: bash 5.1.16
                    CPU: AMD Ryzen 9 5950X (32) @ 3.4GHz
                    Memory: 12.8GiB / 31.4GiB
                    Disk: 128GB / 512GB (25%)
                    Terminal: Web Terminal v3.0
                    Theme: Dark Matrix
                    Icons: Enabled
                `
            },

            'sysinfo': {
                description: 'Detailed system information',
                execute: () => `
System Information Report:
══════════════════════════════════════════════════════════════════════════════
System:
  Host: terminal-os Kernel: 5.15.0-78-generic x86_64 bits: 64
  Console: tty 1 Distro: Terminal OS 3.0
  Uptime: 7 days, 14 hours, 22 minutes

CPU:
  Model: AMD Ryzen 9 5950X (32) @ 3.400GHz
  Topology: 16 Core, 32 Thread
  Usage: 45% (Average)

Memory:
  Total: 31.4 GiB
  Used: 12.8 GiB (40.8%)
  Free: 18.6 GiB

Disk:
  Total: 512 GB
  Used: 128 GB (25%)
  Free: 384 GB

Network:
  Interface: eth0
  IP: 192.168.1.105
  Gateway: 192.168.1.1
  DNS: 8.8.8.8, 8.8.4.4

Security:
  Firewall: Active
  Encryption: AES-256
  Last Scan: Today 02:00
  Threats: 0

Services:
  SSH: Running (Port 22)
  Web: Running (Port 80, 443)
  Database: Running (Port 3306)
  Docker: Running
                `
            },

            'matrix': {
                description: 'Enter matrix mode (special effect)',
                execute: () => {
                    matrixMode = !matrixMode;
                    if (matrixMode) {
                        startMatrixEffect();
                        return 'Entering matrix mode... Code is flowing...';
                    } else {
                        stopMatrixEffect();
                        return 'Exiting matrix mode.';
                    }
                }
            },

            'calc': {
                description: 'Calculator - evaluate mathematical expression',
                execute: (args) => {
                    if (!args) return 'Usage: calc [expression]';
                    try {
                        // Safe evaluation
                        const result = Function('"use strict"; return (' + args + ')')();
                        return `Result: ${result}`;
                    } catch (error) {
                        return `Error: Invalid expression - ${error.message}`;
                    }
                }
            },

            'ping': {
                description: 'Ping a network host',
                execute: (args) => {
                    if (!args) return 'Usage: ping [host]';
                    return `
PING ${args} (93.184.216.34) 56(84) bytes of data.
64 bytes from 93.184.216.34: icmp_seq=1 ttl=57 time=25.4 ms
64 bytes from 93.184.216.34: icmp_seq=2 ttl=57 time=24.8 ms
64 bytes from 93.184.216.34: icmp_seq=3 ttl=57 time=26.1 ms
64 bytes from 93.184.216.34: icmp_seq=4 ttl=57 time=25.9 ms

--- ${args} ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3005ms
rtt min/avg/max/mdev = 24.832/25.550/26.143/0.527 ms
                    `;
                }
            },

            'ifconfig': {
                description: 'Network interface configuration',
                execute: () => `
eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 192.168.1.105  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 fe80::20c:29ff:fe17:5c2a  prefixlen 64  scopeid 0x20<link>
        ether 00:0c:29:17:5c:2a  txqueuelen 1000  (Ethernet)
        RX packets 1254892  bytes 1684589232 (1.5 GiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 892345  bytes 125893456 (120.1 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 24567  bytes 2567894 (2.4 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 24567  bytes 2567894 (2.4 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
                `
            },

            'top': {
                description: 'Display system processes',
                execute: () => `
top - 14:30:45 up 7 days, 14:22,  1 user,  load average: 0.45, 0.38, 0.42
Tasks: 245 total,   1 running, 244 sleeping,   0 stopped,   0 zombie
%Cpu(s):  4.5 us,  1.2 sy,  0.0 ni, 94.1 id,  0.1 wa,  0.0 hi,  0.1 si,  0.0 st
MiB Mem :  32176.4 total,  13107.2 free,   8544.8 used,  10524.4 buff/cache
MiB Swap:   2048.0 total,   2048.0 free,      0.0 used.  22845.6 avail Mem

    PID USER      PR  NI    VIRT    RES    SHR S  %CPU  %MEM     TIME+ COMMAND
   1245 root      20   0  245688  45232  18904 S   4.7   0.1   7:45.32 sshd
    892 root      20   0  125688  21568   8456 S   2.3   0.1  15:22.18 nginx
    567 root      20   0 1256784 245688  45232 S   1.8   0.8  45:12.34 docker
   2341 root      20   0  856788 125688  21568 S   1.2   0.4  12:34.56 node
   1892 root      20   0  125688   8456   2156 S   0.8   0.0   5:12.34 python3
                `
            },

            'history': {
                description: 'Show command history',
                execute: () => {
                    if (commandHistory.length === 0) return 'No command history.';
                    return commandHistory.map((cmd, index) => `${index + 1}  ${cmd}`).join('\n');
                }
            },

            'reboot': {
                description: 'Reboot system',
                execute: () => {
                    setTimeout(() => {
                        document.getElementById('terminalOutput').innerHTML = '';
                        addOutput('System rebooting...', 'info');
                        setTimeout(() => {
                            addOutput('System rebooted successfully.', 'success');
                            executeCommand('neofetch');
                        }, 1000);
                    }, 500);
                    return 'Initiating system reboot...';
                }
            },

            'shutdown': {
                description: 'Shutdown system',
                execute: () => {
                    setTimeout(() => {
                        document.body.innerHTML = `
                            <div style="
                                background: #0a0e14;
                                color: #58a6ff;
                                height: 100vh;
                                display: flex;
                                flex-direction: column;
                                justify-content: center;
                                align-items: center;
                                font-family: monospace;
                                text-align: center;
                            ">
                                <div style="font-size: 3rem; margin-bottom: 2rem;">
                                    ⚡ Terminal OS ⚡
                                </div>
                                <div style="font-size: 1.5rem; margin-bottom: 1rem;">
                                    System shutdown complete
                                </div>
                                <div style="color: #8b949e;">
                                    It's now safe to turn off your terminal
                                </div>
                                <div style="margin-top: 3rem; color: #3fb950;">
                                    Press F5 to restart
                                </div>
                            </div>
                        `;
                    }, 1000);
                    return 'Shutting down system...';
                }
            },

            'firewall': {
                description: 'Configure firewall',
                execute: () => `
Firewall Status: ACTIVE
══════════════════════════════════════════════════════════════════════════════
Rules:
  Chain INPUT (policy DROP)
  num  target     prot opt source               destination
  1    ACCEPT     all  --  anywhere             anywhere
  2    ACCEPT     icmp --  anywhere             anywhere
  3    ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:ssh
  4    ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:http
  5    ACCEPT     tcp  --  anywhere             anywhere             tcp dpt:https
  6    DROP       all  --  anywhere             anywhere

  Chain FORWARD (policy DROP)
  num  target     prot opt source               destination

  Chain OUTPUT (policy ACCEPT)
  num  target     prot opt source               destination

Active Connections: 24
Blocked Attempts: 128
Last Attack: 2 hours ago
                `
            },

            'encrypt': {
                description: 'Encrypt a file',
                execute: (args) => {
                    if (!args) return 'Usage: encrypt [filename]';
                    return `File '${args}' encrypted successfully with AES-256.\nKey ID: 0x${Math.random().toString(16).substr(2, 8).toUpperCase()}`;
                }
            },

            'decrypt': {
                description: 'Decrypt a file',
                execute: (args) => {
                    if (!args) return 'Usage: decrypt [filename]';
                    return `File '${args}' decrypted successfully.`;
                }
            }
        };

        // ===== CORE FUNCTIONS =====
        function executeCommand(input) {
            const terminalOutput = document.getElementById('terminalOutput');
            const commandInput = document.getElementById('commandInput');
            
            // Add command to history
            if (input.trim()) {
                commandHistory.push(input);
                historyIndex = commandHistory.length;
            }
            
            // Display command
            addCommandLine(input);
            
            // Parse command
            const [cmd, ...args] = input.trim().split(' ');
            const command = cmd.toLowerCase();
            const argument = args.join(' ');
            
            // Execute command
            let output = '';
            if (commands[command]) {
                try {
                    output = typeof commands[command].execute === 'function' 
                        ? commands[command].execute(argument)
                        : commands[command].execute;
                } catch (error) {
                    output = `Error executing command: ${error.message}`;
                }
            } else if (command) {
                output = `Command not found: ${command}\nType 'help' for available commands.`;
            }
            
            // Display output
            if (output) {
                addOutput(output, command === 'clear' ? 'clear' : 'info');
            }
            
            // Clear input and scroll to bottom
            commandInput.value = '';
            terminalOutput.scrollTop = terminalOutput.scrollHeight;
        }

        function addCommandLine(command) {
            const terminalOutput = document.getElementById('terminalOutput');
            const commandLine = document.createElement('div');
            commandLine.className = 'command-line';
            commandLine.innerHTML = `
                <div class="prompt">
                    <span class="prompt-user">root</span>@<span class="prompt-path">terminal-os</span>:<span class="prompt-symbol">$</span>
                </div>
                <div class="command-text">${escapeHtml(command)}</div>
            `;
            terminalOutput.appendChild(commandLine);
        }

        function addOutput(text, type = 'info') {
            if (type === 'clear') return;
            
            const terminalOutput = document.getElementById('terminalOutput');
            const output = document.createElement('div');
            output.className = `command-output output-${type}`;
            output.innerHTML = formatOutput(text);
            terminalOutput.appendChild(output);
        }

        function formatOutput(text) {
            return text
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/\n/g, '<br>')
                .replace(/ /g, '&nbsp;')
                .replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;');
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // ===== WINDOW MANAGEMENT =====
        function openWindow(windowId) {
            const window = document.getElementById(windowId);
            window.classList.add('active');
            
            // Bring to front
            document.querySelectorAll('.window').forEach(w => {
                w.style.zIndex = '100';
            });
            window.style.zIndex = '101';
            
            // Make draggable
            makeDraggable(windowId);
        }

        function closeWindow(windowId) {
            document.getElementById(windowId).classList.remove('active');
        }

        function minimizeWindow(windowId) {
            const window = document.getElementById(windowId);
            window.style.height = '40px';
            window.querySelector('.window-content').style.display = 'none';
        }

        function maximizeWindow(windowId) {
            const window = document.getElementById(windowId);
            if (window.style.width === '90vw' && window.style.height === '80vh') {
                window.style.width = '';
                window.style.height = '';
                window.style.left = '';
                window.style.top = '';
            } else {
                window.style.width = '90vw';
                window.style.height = '80vh';
                window.style.left = '5vw';
                window.style.top = '10vh';
            }
            window.querySelector('.window-content').style.display = 'block';
        }

        function makeDraggable(windowId) {
            const window = document.getElementById(windowId);
            const header = window.querySelector('.window-header');
            
            header.addEventListener('mousedown', startDrag);
            
            function startDrag(e) {
                isDragging = true;
                dragElement = window;
                offsetX = e.clientX - window.offsetLeft;
                offsetY = e.clientY - window.offsetTop;
                
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', stopDrag);
                
                // Bring to front
                document.querySelectorAll('.window').forEach(w => {
                    w.style.zIndex = '100';
                });
                window.style.zIndex = '101';
            }
            
            function drag(e) {
                if (!isDragging || !dragElement) return;
                e.preventDefault();
                
                dragElement.style.left = (e.clientX - offsetX) + 'px';
                dragElement.style.top = (e.clientY - offsetY) + 'px';
            }
            
            function stopDrag() {
                isDragging = false;
                dragElement = null;
                document.removeEventListener('mousemove', drag);
                document.removeEventListener('mouseup', stopDrag);
            }
        }

        // ===== SYSTEM FUNCTIONS =====
        function updateSystemStats() {
            // Update CPU
            const cpuPercent = Math.floor(Math.random() * 30) + 40;
            document.getElementById('cpuUsage').style.width = `${cpuPercent}%`;
            document.getElementById('cpuPercent').textContent = `${cpuPercent}%`;
            
            // Update Memory
            const memoryPercent = Math.floor(Math.random() * 20) + 60;
            document.getElementById('memoryUsage').style.width = `${memoryPercent}%`;
            document.getElementById('memoryPercent').textContent = `${memoryPercent}%`;
            
            // Update Network
            document.getElementById('networkUp').textContent = Math.floor(Math.random() * 50) + 100;
            document.getElementById('networkDown').textContent = Math.floor(Math.random() * 200) + 800;
            document.getElementById('connections').textContent = Math.floor(Math.random() * 10) + 20;
            
            // Update Time
            const now = new Date();
            document.getElementById('currentTime').textContent = now.toLocaleTimeString();
            document.getElementById('currentDate').textContent = now.toLocaleDateString('en-CA');
            document.getElementById('systemTime').textContent = now.toLocaleString();
        }

        function startMatrixEffect() {
            const terminal = document.getElementById('terminalOutput');
            terminal.classList.add('matrix-mode');
            
            const chars = '01';
            const lines = [];
            
            for (let i = 0; i < 50; i++) {
                const line = document.createElement('div');
                line.className = 'matrix-line';
                line.style.color = '#00ff00';
                line.style.fontFamily = 'monospace';
                line.style.whiteSpace = 'nowrap';
                line.style.opacity = '0.8';
                line.textContent = Array(100).fill(0).map(() => 
                    chars[Math.floor(Math.random() * chars.length)]
                ).join('');
                terminal.appendChild(line);
                lines.push(line);
            }
            
            const interval = setInterval(() => {
                if (!matrixMode) {
                    clearInterval(interval);
                    lines.forEach(line => line.remove());
                    terminal.classList.remove('matrix-mode');
                    return;
                }
                
                lines.forEach(line => {
                    const text = line.textContent;
                    line.textContent = text.substring(1) + chars[Math.floor(Math.random() * chars.length)];
                    line.style.opacity = Math.random() * 0.5 + 0.3;
                });
            }, 100);
        }

        function stopMatrixEffect() {
            matrixMode = false;
        }

        function executeQuickCommand(command) {
            document.getElementById('commandInput').value = command;
            executeCommand(command);
        }

        function openFile(filename) {
            addOutput(`Opening file: ${filename}`, 'info');
            // Simulate file opening
            setTimeout(() => {
                addOutput(`File '${filename}' opened successfully.`, 'success');
            }, 500);
        }

        function saveFile() {
            const content = document.getElementById('editorContent').value;
            addOutput('File saved successfully.', 'success');
            console.log('File saved:', content.substring(0, 100) + '...');
        }

        // ===== EVENT LISTENERS =====
        document.addEventListener('DOMContentLoaded', function() {
            const commandInput = document.getElementById('commandInput');
            
            // Command input handler
            commandInput.addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    executeCommand(this.value);
                } else if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    if (historyIndex > 0) {
                        historyIndex--;
                        this.value = commandHistory[historyIndex] || '';
                    }
                } else if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    if (historyIndex < commandHistory.length - 1) {
                        historyIndex++;
                        this.value = commandHistory[historyIndex] || '';
                    } else {
                        historyIndex = commandHistory.length;
                        this.value = '';
                    }
                } else if (e.key === 'Tab') {
                    e.preventDefault();
                    // Basic tab completion
                    const input = this.value;
                    const matches = Object.keys(commands).filter(cmd => 
                        cmd.startsWith(input.toLowerCase())
                    );
                    if (matches.length === 1) {
                        this.value = matches[0];
                    }
                }
            });
            
            // Function keys
            document.addEventListener('keydown', function(e) {
                if (e.key === 'F1') {
                    e.preventDefault();
                    executeCommand('help');
                } else if (e.key === 'F2') {
                    e.preventDefault();
                    addOutput('Opening new terminal session...', 'info');
                } else if (e.key === 'F3') {
                    e.preventDefault();
                    openWindow('fileExplorerWindow');
                } else if (e.key === 'F4') {
                    e.preventDefault();
                    openWindow('systemMonitorWindow');
                } else if (e.key === 'F5') {
                    e.preventDefault();
                    location.reload();
                }
            });
            
            // Initialize windows
            makeDraggable('fileExplorerWindow');
            makeDraggable('codeEditorWindow');
            makeDraggable('systemMonitorWindow');
            
            // Open some windows by default
            setTimeout(() => {
                openWindow('systemMonitorWindow');
            }, 1000);
            
            // Start system stats updates
            setInterval(updateSystemStats, 2000);
            
            // Initial update
            updateSystemStats();
            
            // Auto-focus input
            commandInput.focus();
        });
    </script>
</body>
</html>
